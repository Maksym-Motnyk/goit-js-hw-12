{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n}\n\nexport function searchPhotos(input) {\n  showLoader();\n\n  const searchParams = new URLSearchParams({\n    key: '43803497-a801e9cfe7ea9bdd19d306bb3',\n    q: input.value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url);\n}\n","import simpleLightbox from 'simplelightbox';\n\nexport const listImg = document.querySelector('.list');\nlet lightbox;\n\nexport const markupInterface = data => {\n  const markup = data.hits\n    .map(hit => {\n      return `\n      <li class=\"item-list\">\n        <a href=\"${hit.largeImageURL}\" class=\"item-list-link\">\n            <img class=\"item-list-img\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\">\n        </a>\n        <div class='markup-info'>\n            <div class=\"item-list-info-text\">\n                <h3 class=\"item-list-title\">Likes</h3>\n                <p class=\"item-list-text\">${hit.likes}</p>\n            </div>\n            <div class=\"item-list-info-text\">\n                <h3 class=\"item-list-title\">Views</h3>\n                <p class=\"item-list-text\">${hit.views}</p>\n            </div>\n            <div class=\"item-list-info-text\">\n                <h3 class=\"item-list-title\">Comments</h3>\n                <p class=\"item-list-text\">${hit.comments}</p>\n            </div>\n            <div class=\"item-list-info-text\">\n                <h3 class=\"item-list-title\">Downloads</h3>\n                <p class=\"item-list-text\">${hit.downloads}</p>\n            </div>\n        </div>\n      </li>\n    `;\n    })\n    .join('');\n  listImg.innerHTML = markup;\n\n  lightbox = new SimpleLightbox('.item-list-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    overlayOpacity: 0.8,\n  });\n\n  lightbox.refresh();\n};\n","import { searchPhotos } from './js/pixabay-api';\nimport { markupInterface } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { listImg } from './js/render-functions';\n\nconst searchButton = document.querySelector('.searchButton');\nconst clearInput = () => {\n  const input = document.querySelector('.input');\n  input.value = '';\n};\n\nfunction hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}\n\nsearchButton.addEventListener('click', event => {\n  event.preventDefault();\n\n  const input = document.querySelector('.input');\n\n  if (input.value.trim() == '') {\n    iziToast.error({\n      title: 'Error',\n      position: 'topRight',\n      message:\n        'The search field cannot be empty! Please enter the search query!',\n    });\n    return;\n  } else {\n    searchPhotos(input)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(data => {\n        hideLoader();\n        markupInterface(data);\n        if (!listImg.childElementCount) {\n          iziToast.error({\n            title: 'Error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n      })\n      .catch(error => {\n        hideLoader();\n        console.error('Error:', error);\n      });\n  }\n  clearInput();\n});\n"],"names":["showLoader","loader","searchPhotos","input","url","listImg","lightbox","markupInterface","data","markup","hit","searchButton","clearInput","hideLoader","event","iziToast","response","error"],"mappings":"svBAAA,SAASA,GAAa,CACpB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEO,SAASC,EAAaC,EAAO,CAClCH,IASA,MAAMI,EAAM,4BAPS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EAAM,MACT,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CACmD,GAEpD,OAAO,MAAMC,CAAG,CAClB,CChBO,MAAMC,EAAU,SAAS,cAAc,OAAO,EACrD,IAAIC,EAEG,MAAMC,EAAkBC,GAAQ,CACrC,MAAMC,EAASD,EAAK,KACjB,IAAIE,GACI;AAAA;AAAA,mBAEMA,EAAI,aAAa;AAAA,8CACUA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKpCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,4CAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,4CAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,4CAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,KAKpD,EACA,KAAK,EAAE,EACVL,EAAQ,UAAYI,EAEpBH,EAAW,IAAI,eAAe,kBAAmB,CAC/C,aAAc,MACd,aAAc,IACd,eAAgB,EACpB,CAAG,EAEDA,EAAS,QAAO,CAClB,ECtCMK,EAAe,SAAS,cAAc,eAAe,EACrDC,EAAa,IAAM,CACvB,MAAMT,EAAQ,SAAS,cAAc,QAAQ,EAC7CA,EAAM,MAAQ,EAChB,EAEA,SAASU,GAAa,CACpB,MAAMZ,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEAU,EAAa,iBAAiB,QAASG,GAAS,CAC9CA,EAAM,eAAc,EAEpB,MAAMX,EAAQ,SAAS,cAAc,QAAQ,EAE7C,GAAIA,EAAM,MAAM,KAAI,GAAM,GAAI,CAC5BY,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,QACE,kEACR,CAAK,EACD,MACJ,MACIb,EAAaC,CAAK,EACf,KAAKa,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKR,GAAQ,CACZK,IACAN,EAAgBC,CAAI,EACfH,EAAQ,mBACXU,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACd,CAAW,CAEX,CAAO,EACA,MAAME,GAAS,CACdJ,IACA,QAAQ,MAAM,SAAUI,CAAK,CACrC,CAAO,EAELL,GACF,CAAC"}